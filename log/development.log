  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to DeviseCreateUsers (20211113063148)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "name" varchar, "introduction" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20211113063148_devise_create_users.rb:5
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  ↳ db/migrate/20211113063148_devise_create_users.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  ↳ db/migrate/20211113063148_devise_create_users.rb:43
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20211113063148"]]
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateBooks (20211113080445)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "books" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" text, "body" text, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20211113080445_create_books.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20211113080445"]]
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to AddProfileImageIdToUsers (20211114045300)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "profile_image_id" varchar[0m
  ↳ db/migrate/20211114045300_add_profile_image_id_to_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20211114045300"]]
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateFavorites (20211204040952)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "book_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20211204040952_create_favorites.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20211204040952"]]
  ↳ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
Migrating to CreateBookComments (20211204062428)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "book_comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "comment" text, "user_id" integer, "book_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20211204062428_create_book_comments.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20211204062428"]]
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-04-28 11:25:17.516805"], ["updated_at", "2022-04-28 11:25:17.516805"]]
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started GET "/" for ::1 at 2022-04-28 20:26:05 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (1.1ms)
Completed 200 OK in 2699ms (Views: 2693.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2022-04-28 20:26:13 +0900
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.7ms)
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (30.2ms)
Completed 200 OK in 109ms (Views: 85.3ms | ActiveRecord: 1.0ms)


Started POST "/users" for ::1 at 2022-04-28 20:26:24 +0900
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fKhF+693ruSz/sDr8Kcogri1CumXYj/YBnpeOIvJ1/QPK6xaVVhe0qq5RQyXASCgJKeu/OYA6vJOqQWDm4YNqA==", "user"=>{"name"=>"いいい", "email"=>"aaa@aaa", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "aaa@aaa"], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "いいい"], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "aaa@aaa"], ["encrypted_password", "$2a$12$a9gzKgSr1R.JT3rHmPiE7uqr.rgjh38lAOnZo/SwUkbbkmqvxvsYO"], ["name", "いいい"], ["created_at", "2022-04-28 11:26:25.092718"], ["updated_at", "2022-04-28 11:26:25.092718"]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/users/1
Completed 302 Found in 737ms (ActiveRecord: 1.4ms)


Started GET "/users/1" for ::1 at 2022-04-28 20:26:25 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12
  Rendering users/show.html.erb within layouts/application
  Rendered books/_user.html.erb (2.7ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:16
  Rendered users/show.html.erb within layouts/application (4.4ms)
Completed 200 OK in 83ms (Views: 61.3ms | ActiveRecord: 0.7ms)


Started POST "/books" for ::1 at 2022-04-28 20:26:32 +0900
Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tL0Il691MkDqEFxOx8zYnG8hPY6QJ+NBdaNuilFhEHSeDGQhEYEdpgMXxIp3PmqmhFp+wGmGs1QaNSPjlQscKQ==", "book"=>{"title"=>"aa", "body"=>"aa"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/books_controller.rb:14
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:14
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("title", "body", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "aa"], ["body", "aa"], ["user_id", 1], ["created_at", "2022-04-28 11:26:32.886803"], ["updated_at", "2022-04-28 11:26:32.886803"]]
  ↳ app/controllers/books_controller.rb:14
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/books_controller.rb:14
Redirected to http://localhost:3000/books/1
Completed 302 Found in 25ms (ActiveRecord: 2.1ms)


Started GET "/books/1" for ::1 at 2022-04-28 20:26:32 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:26
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:27
  Rendering books/show.html.erb within layouts/application
  Rendered books/_user.html.erb (2.8ms)
  [1m[36mFavorite Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book.rb:8
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/show.html.erb:28
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/show.html.erb:33
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/show.html.erb:46
  Rendered books/show.html.erb within layouts/application (16.3ms)
Completed 200 OK in 77ms (Views: 60.0ms | ActiveRecord: 1.6ms)


Started POST "/books/1/book_comments" for ::1 at 2022-04-28 20:26:43 +0900
Processing by BookCommentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zlh90uiWRQxSVNIQ1mNtUSAyLYkNFjQj5yzRaqNmL5vk6RFkVmJq6rtTStRmkd9ry0lux/S3ZDaIupwDZwwjxg==", "book_comment"=>{"comment"=>"いいね"}, "commit"=>"送信", "book_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:4
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:7
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/book_comments_controller.rb:7
  [1m[36mBookComment Create (0.4ms)[0m  [1m[32mINSERT INTO "book_comments" ("comment", "user_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["comment", "いいね"], ["user_id", 1], ["book_id", 1], ["created_at", "2022-04-28 11:26:43.956253"], ["updated_at", "2022-04-28 11:26:43.956253"]]
  ↳ app/controllers/book_comments_controller.rb:7
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:7
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/book_comments_controller.rb:8
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/book_comments_controller.rb:8
Redirected to http://localhost:3000/books/1
Completed 302 Found in 14ms (ActiveRecord: 1.5ms)


Started GET "/books/1" for ::1 at 2022-04-28 20:26:43 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:26
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:27
  Rendering books/show.html.erb within layouts/application
  Rendered books/_user.html.erb (3.0ms)
  [1m[36mFavorite Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book.rb:8
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/show.html.erb:28
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/show.html.erb:33
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/show.html.erb:46
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:49
  Rendered books/show.html.erb within layouts/application (11.6ms)
Completed 200 OK in 61ms (Views: 56.1ms | ActiveRecord: 0.7ms)


Started POST "/books/1/favorites" for ::1 at 2022-04-28 20:26:46 +0900
Processing by FavoritesController#create as HTML
  Parameters: {"authenticity_token"=>"I7bLLBvLf3vb5312Wf2BwOijKnthwHmfoG+F6kb8F4wJB6eapT9QnTLg5bLpDzP6A9hpNZhhKYrP+ciDgpYb0Q==", "book_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:4
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/favorites_controller.rb:6
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:6
  [1m[36mFavorite Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/favorites_controller.rb:6
  [1m[36mFavorite Create (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("user_id", "book_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["book_id", 1], ["created_at", "2022-04-28 11:26:46.950598"], ["updated_at", "2022-04-28 11:26:46.950598"]]
  ↳ app/controllers/favorites_controller.rb:6
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/favorites_controller.rb:6
Redirected to http://localhost:3000/books/1
Completed 302 Found in 37ms (ActiveRecord: 3.1ms)


Started GET "/books/1" for ::1 at 2022-04-28 20:26:46 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:26
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:27
  Rendering books/show.html.erb within layouts/application
  Rendered books/_user.html.erb (4.0ms)
  [1m[36mFavorite Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book.rb:8
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/show.html.erb:24
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/show.html.erb:33
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/show.html.erb:46
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:49
  Rendered books/show.html.erb within layouts/application (17.2ms)
Completed 200 OK in 70ms (Views: 62.9ms | ActiveRecord: 0.8ms)


Started GET "/users" for ::1 at 2022-04-28 20:26:50 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  Rendered books/_user.html.erb (6.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (13.4ms)
Completed 200 OK in 90ms (Views: 83.6ms | ActiveRecord: 0.6ms)


Started GET "/books" for ::1 at 2022-04-28 20:26:51 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  Rendering books/index.html.erb within layouts/application
  Rendered books/_user.html.erb (5.9ms)
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:28
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:31
  [1m[36mFavorite Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book.rb:8
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:53
  Rendered books/index.html.erb within layouts/application (22.5ms)
Completed 200 OK in 106ms (Views: 98.6ms | ActiveRecord: 1.2ms)


Started GET "/books/1" for ::1 at 2022-04-28 20:26:55 +0900
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT  "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:26
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:27
  Rendering books/show.html.erb within layouts/application
  Rendered books/_user.html.erb (5.3ms)
  [1m[36mFavorite Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book.rb:8
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/show.html.erb:24
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/show.html.erb:33
  [1m[36mBookComment Load (0.1ms)[0m  [1m[34mSELECT "book_comments".* FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/show.html.erb:46
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:49
  Rendered books/show.html.erb within layouts/application (21.0ms)
Completed 200 OK in 96ms (Views: 82.2ms | ActiveRecord: 1.7ms)


Started GET "/" for ::1 at 2022-04-28 21:46:18 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
Completed 200 OK in 2616ms (Views: 2608.7ms | ActiveRecord: 0.7ms)


Started GET "/users/sign_in" for ::1 at 2022-04-28 21:46:23 +0900
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/application_controller.rb:8:in `after_sign_in_path_for'
Started GET "/" for ::1 at 2022-04-28 21:46:25 +0900
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (2.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
Completed 200 OK in 87ms (Views: 85.0ms | ActiveRecord: 0.1ms)


Started GET "/users/sign_up" for ::1 at 2022-04-28 21:46:25 +0900
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/application_controller.rb:8:in `after_sign_in_path_for'
Started GET "/" for ::1 at 2022-04-28 21:46:30 +0900
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
Completed 200 OK in 90ms (Views: 87.1ms | ActiveRecord: 0.1ms)


Started GET "/" for ::1 at 2022-04-28 22:10:44 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
Completed 200 OK in 365ms (Views: 356.8ms | ActiveRecord: 0.6ms)


Started GET "/users/sign_up" for ::1 at 2022-04-28 22:10:47 +0900
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/application_controller.rb:8:in `after_sign_in_path_for'
Started GET "/" for ::1 at 2022-04-28 22:11:30 +0900
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
Completed 200 OK in 97ms (Views: 93.7ms | ActiveRecord: 0.1ms)


Started GET "/users/sign_in" for ::1 at 2022-04-28 22:11:33 +0900
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/application_controller.rb:8:in `after_sign_in_path_for'
Started GET "/" for ::1 at 2022-04-28 22:11:36 +0900
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
Completed 200 OK in 99ms (Views: 95.9ms | ActiveRecord: 0.1ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started GET "/users/sign_in" for ::1 at 2022-04-28 22:17:55 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/application_controller.rb:8:in `after_sign_in_path_for'
Started GET "/" for ::1 at 2022-04-28 22:18:11 +0900
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
Completed 200 OK in 345ms (Views: 342.1ms | ActiveRecord: 0.1ms)


Started GET "/users/sign_up" for ::1 at 2022-04-28 22:18:12 +0900
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.6ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/application_controller.rb:8:in `after_sign_in_path_for'
Started GET "/" for ::1 at 2022-04-28 22:18:13 +0900
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
Completed 200 OK in 103ms (Views: 100.5ms | ActiveRecord: 0.1ms)


Started GET "/books" for ::1 at 2022-04-28 22:18:15 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  Rendering books/index.html.erb within layouts/application
  Rendered books/_user.html.erb (13.2ms)
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:28
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:31
  [1m[36mFavorite Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book.rb:8
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:53
  Rendered books/index.html.erb within layouts/application (46.3ms)
Completed 200 OK in 167ms (Views: 121.6ms | ActiveRecord: 3.5ms)


Started GET "/users" for ::1 at 2022-04-28 22:18:17 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  Rendered books/_user.html.erb (3.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 66ms (Views: 61.5ms | ActiveRecord: 0.4ms)


Started GET "/users/1" for ::1 at 2022-04-28 22:18:18 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12
  Rendering users/show.html.erb within layouts/application
  Rendered books/_user.html.erb (3.6ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:16
  [1m[36mFavorite Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book.rb:8
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/show.html.erb:32
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/show.html.erb:41
  Rendered users/show.html.erb within layouts/application (12.0ms)
Completed 200 OK in 74ms (Views: 65.2ms | ActiveRecord: 0.9ms)


Started GET "/books" for ::1 at 2022-04-28 22:18:20 +0900
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  Rendering books/index.html.erb within layouts/application
  Rendered books/_user.html.erb (4.8ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  ↳ app/views/books/index.html.erb:28
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/index.html.erb:31
  [1m[36mFavorite Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book.rb:8
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:44
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/books/index.html.erb:53
  Rendered books/index.html.erb within layouts/application (14.7ms)
Completed 200 OK in 113ms (Views: 104.7ms | ActiveRecord: 1.0ms)


Started GET "/users" for ::1 at 2022-04-28 22:18:21 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  Rendered books/_user.html.erb (8.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 92ms (Views: 85.4ms | ActiveRecord: 0.5ms)


Started GET "/users/1" for ::1 at 2022-04-28 22:18:22 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12
  Rendering users/show.html.erb within layouts/application
  Rendered books/_user.html.erb (2.6ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:16
  [1m[36mFavorite Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book.rb:8
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/show.html.erb:32
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/show.html.erb:41
  Rendered users/show.html.erb within layouts/application (8.9ms)
Completed 200 OK in 59ms (Views: 52.5ms | ActiveRecord: 0.6ms)


Started GET "/users" for ::1 at 2022-04-28 22:18:26 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  Rendered books/_user.html.erb (7.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (15.5ms)
Completed 200 OK in 104ms (Views: 97.2ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for ::1 at 2022-04-28 22:18:41 +0900
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"hB1O2iJqv1xg6lwl4tXCFuhPN1g3IiC8GRRMlSps1JCurCJsnJ6QuontxOFSJ3AsAzR0Fs6DcKl2ggH87gbYzQ=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2022-04-28 22:18:41 +0900
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (1.0ms)
Completed 200 OK in 57ms (Views: 55.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2022-04-28 22:18:42 +0900
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (2.2ms)
  Rendered devise/shared/_links.html.erb (4.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (28.2ms)
Completed 200 OK in 98ms (Views: 94.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2022-04-28 22:18:49 +0900
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SiK5uR/p/Zn8g2knRlaG4jO984j1HR08v7gO3X/mrz/qX2c4H5YZTwiNs5lseJbmbVTLFC4Ii8BkfyfLiTuUug==", "user"=>{"name"=>"aaaa", "email"=>"aaa@aaaa", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "aaa@aaaa"], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "aaaa"], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "aaa@aaaa"], ["encrypted_password", "$2a$12$SYuPKddPQM98ypBX1gdlfO68naySiOnGwFjOtAxOsVZrsKgiNB.iO"], ["name", "aaaa"], ["created_at", "2022-04-28 13:18:50.318809"], ["updated_at", "2022-04-28 13:18:50.318809"]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/users/2
Completed 302 Found in 753ms (ActiveRecord: 2.1ms)


Started GET "/users/2" for ::1 at 2022-04-28 22:18:50 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12
  Rendering users/show.html.erb within layouts/application
  Rendered books/_user.html.erb (3.1ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:16
  Rendered users/show.html.erb within layouts/application (5.5ms)
Completed 200 OK in 54ms (Views: 51.0ms | ActiveRecord: 0.2ms)


Started GET "/users" for ::1 at 2022-04-28 22:18:54 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  Rendered books/_user.html.erb (36.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (42.4ms)
Completed 200 OK in 105ms (Views: 97.3ms | ActiveRecord: 0.4ms)


Started GET "/users/1" for ::1 at 2022-04-28 22:18:56 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12
  Rendering users/show.html.erb within layouts/application
  Rendered books/_user.html.erb (5.0ms)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:16
  [1m[36mFavorite Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/models/book.rb:8
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/show.html.erb:36
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/show.html.erb:41
  Rendered users/show.html.erb within layouts/application (18.8ms)
Completed 200 OK in 94ms (Views: 83.9ms | ActiveRecord: 1.4ms)


Started GET "/users/1/edit" for ::1 at 2022-04-28 22:18:58 +0900
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:38
Redirected to http://localhost:3000/users/2
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)


Started GET "/users/2" for ::1 at 2022-04-28 22:18:58 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12
  Rendering users/show.html.erb within layouts/application
  Rendered books/_user.html.erb (4.1ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 2]]
  ↳ app/views/users/show.html.erb:16
  Rendered users/show.html.erb within layouts/application (7.4ms)
Completed 200 OK in 89ms (Views: 83.3ms | ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2022-05-01 16:58:25 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
Completed 200 OK in 344ms (Views: 339.0ms | ActiveRecord: 0.6ms)


Started GET "/users/sign_up" for ::1 at 2022-05-01 16:58:28 +0900
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.3ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/application_controller.rb:8:in `after_sign_in_path_for'
Started GET "/" for ::1 at 2022-05-01 16:58:36 +0900
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
Completed 200 OK in 92ms (Views: 89.8ms | ActiveRecord: 0.1ms)


Started DELETE "/users/sign_out" for ::1 at 2022-05-01 16:58:38 +0900
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ayDVkVG40jxAc3x868U/7MqaxHUPh/cSSivahgs4jqC0zAkrSUqtp/gbeB82LDQ/2Fn6gt+oPKM0szbNG46Phg=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2022-05-01 16:58:38 +0900
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (1.0ms)
Completed 200 OK in 70ms (Views: 68.7ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2022-05-01 16:59:18 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (0.9ms)
Completed 200 OK in 321ms (Views: 317.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2022-05-01 16:59:20 +0900
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (0.9ms)
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (20.2ms)
Completed 200 OK in 104ms (Views: 78.3ms | ActiveRecord: 1.4ms)


Started GET "/users/sign_in" for ::1 at 2022-05-01 16:59:22 +0900
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (11.7ms)
Completed 200 OK in 89ms (Views: 85.3ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2022-06-08 17:07:12 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (1.2ms)
Completed 200 OK in 336ms (Views: 331.5ms | ActiveRecord: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Migrating to CreateRelationships (20230417044852)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ db/migrate/20230417044852_create_relationships.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "relationships" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "follower_id" integer, "followed_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  ↳ db/migrate/20230417044852_create_relationships.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230417044852"]]
  ↳ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ bin/rails:9
Started GET "/" for ::1 at 2023-04-17 16:31:33 +0900
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#top as HTML
  Rendering homes/top.html.erb within layouts/application
  Rendered homes/top.html.erb within layouts/application (1.9ms)
Completed 200 OK in 1691ms (Views: 1685.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2023-04-17 16:31:53 +0900
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (34.3ms)
Completed 200 OK in 105ms (Views: 94.0ms | ActiveRecord: 0.4ms)


Started POST "/users/sign_in" for ::1 at 2023-04-17 16:31:57 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hq4KYQoqOxsLERCuL4HO1AzApponNHaZaZCv1dsAb0GAbkHFmpDlrZiW/mZ0/ivtL5f+FFz5ge/gTP3dGnRoJg==", "user"=>{"name"=>"いいい", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."name" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["name", "いいい"], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/users/1
Completed 302 Found in 764ms (ActiveRecord: 0.4ms)


Started GET "/users/1" for ::1 at 2023-04-17 16:31:58 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:12
  Rendering users/show.html.erb within layouts/application
  Rendered books/_user.html.erb (3.3ms)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  ↳ app/views/users/show.html.erb:16
  [1m[36mFavorite Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."book_id" = ? AND "favorites"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book.rb:8
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "favorites" WHERE "favorites"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/show.html.erb:32
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "book_comments" WHERE "book_comments"."book_id" = ?[0m  [["book_id", 1]]
  ↳ app/views/users/show.html.erb:41
  Rendered users/show.html.erb within layouts/application (18.6ms)
Completed 200 OK in 105ms (Views: 80.3ms | ActiveRecord: 1.5ms)


Started GET "/users" for ::1 at 2023-04-17 16:32:07 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  Rendered books/_user.html.erb (2.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:15
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:24
  Rendered relationships/_btn.html.erb (0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:24
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ? AND "users"."id" = ? LIMIT ?[0m  [["follower_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:34
  Rendered relationships/_btn.html.erb (1.0ms)
  Rendered users/index.html.erb within layouts/application (25.0ms)
Completed 200 OK in 87ms (Views: 82.7ms | ActiveRecord: 1.0ms)


Started GET "/users" for ::1 at 2023-04-17 16:33:56 +0900
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ /Users/bonito/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/activerecord-5.2.7.1/lib/active_record/log_subscriber.rb:98
  Rendering users/index.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/books/_user.html.erb:17
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/books/_user.html.erb:21
  Rendered books/_user.html.erb (4.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/views/users/index.html.erb:15
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 1]]
  ↳ app/views/users/index.html.erb:23
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 1]]
  ↳ app/views/users/index.html.erb:24
  Rendered relationships/_btn.html.erb (0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ?[0m  [["follower_id", 2]]
  ↳ app/views/users/index.html.erb:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."follower_id" WHERE "relationships"."followed_id" = ?[0m  [["followed_id", 2]]
  ↳ app/views/users/index.html.erb:24
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" INNER JOIN "relationships" ON "users"."id" = "relationships"."followed_id" WHERE "relationships"."follower_id" = ? AND "users"."id" = ? LIMIT ?[0m  [["follower_id", 1], ["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:34
  Rendered relationships/_btn.html.erb (1.0ms)
  Rendered users/index.html.erb within layouts/application (13.2ms)
Completed 200 OK in 71ms (Views: 66.8ms | ActiveRecord: 0.7ms)


